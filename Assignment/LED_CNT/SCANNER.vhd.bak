LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
--USE IEEE.STD_LOGIC_ARITH.ALL;
USE IEEE.STD_LOGIC_UNSIGNED.ALL;

ENTITY SCANER IS
    PORT ( CLK_SCAN : IN  STD_LOGIC;
           DOUT12 : IN  STD_LOGIC_VECTOR(11 DOWNTO 0);
           NUM : OUT  STD_LOGIC_VECTOR (3 DOWNTO 0);
           SEL : OUT  STD_LOGIC_VECTOR (1 DOWNTO 0));
END ENTITY SCANER;

ARCHITECTURE ART1 OF SCANER IS
	SIGNAL SEL_REG : STD_LOGIC_VECTOR(1 DOWNTO 0);

BEGIN 
	SCAN <= SEL_REG; 
	PROCESS(CLK_SCAN)
	BEGIN
		IF(CLK_SCAN'EVENT AND CLK_SCAN='1') THEN
			IF (SEL_REG = "11") THEN
				SEL_REG <= "01";
			ELSE
				SEL_REG <= SEL_REG + 1;
			END IF;
		END IF;
	END PROCESS;
  
	PROCESS(CLK_SCAN)
	BEGIN
		IF(CLK_SCAN'EVENT AND CLK_SCAN='1') THEN
		CASE(SEL_REG) IS
			WHEN "01" => 
				LED_ENCODE <= COUNTER(3 DOWNTO 0);
			WHEN "10" =>
				LED_ENCODE <= COUNTER(7 DOWNTO 4);
			WHEN "11" =>
				LED_ENCODE <= COUNTER(11 DOWNTO 8);
			WHEN OTHERS =>
				LED_ENCODE <= (OTHERS=> '0');
			END CASE;
		END IF;
	END PROCESS;

END ARCHITECTURE ART1;